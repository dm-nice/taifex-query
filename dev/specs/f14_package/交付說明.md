# F14 模組開發交付說明

## 📦 本交付包內容

```
f14_package/
├── 交付說明.md           # 本文件
├── README.md             # 通用開發指南（必讀）
├── f14_fetcher_spec.md   # F14 模組規格文件
├── base.py               # 基礎類別定義
└── _template.py          # 開發範本
```

## 🎯 您的任務

開發 **F14 模組**：抓取台指期貨 (TX) 當日收盤價。

## 📖 閱讀順序

請依照以下順序閱讀文件：

1. **README.md** - 了解整體架構與開發流程
2. **f14_fetcher_spec.md** - 了解 F14 的具體需求
3. **base.py** - 了解基礎類別的定義
4. **_template.py** - 作為開發起點

## 🚀 開發步驟

### 1. 設定開發環境
```bash
# 建議使用 Python 3.9+
pip install requests pandas pytest
```

### 2. 建立開發檔案
複製 `_template.py` 並重新命名為 `f14_fetcher_dev.py`：
```bash
cp _template.py f14_fetcher_dev.py
```

### 3. 實作 fetch 方法
根據 `f14_fetcher_spec.md` 的要求實作 `fetch(date: str) -> dict` 方法。

**重要提醒**：
- 必須繼承 `base.py` 中的 `BaseFetcher`
- 檔名必須與 `MODULE` 變數一致
- data key 必須使用 `"台指期貨收盤價"`（完全一致）

### 4. 本地測試
```bash
# 執行 pytest 測試
pytest f14_fetcher_dev.py

# 測試實際抓取（需要自行建立測試環境）
python f14_fetcher_dev.py
```

## 📋 交付清單

請確保以下項目都已完成：

- [ ] `f14_fetcher_dev.py` 檔案
- [ ] pytest 測試通過（PASSED）
- [ ] 實際抓取測試成功（數值不是 "-"）
- [ ] 簡短說明文件（說明您使用的抓取方式）

## ⚠️ 常見錯誤

### 1. 檔名與 MODULE 變數不一致
```python
# 檔名：f14_fetcher_dev.py
MODULE = "f14_fetcher_dev"  # ✅ 正確
MODULE = "f14_fetcher"      # ❌ 錯誤
```

### 2. data key 名稱錯誤
```python
# ✅ 正確
data = {"台指期貨收盤價": 27758.0}

# ❌ 錯誤
data = {"期貨收盤價": 27758.0}
data = {"TX收盤價": 27758.0}
```

### 3. 未處理異常
請務必使用 try-except 捕捉異常，並回傳 `status="fail"` 而不是直接拋出 Exception。

## 📞 技術支援

如有任何問題，請參考：
1. `README.md` 的常見錯誤章節
2. `f14_fetcher_spec.md` 的特殊處理邏輯章節
3. `base.py` 的程式碼註解

## 🎉 驗收標準

1. ✅ pytest 測試通過
2. ✅ 實際抓取資料成功（數值不是 "-"）
3. ✅ data key 名稱正確
4. ✅ 錯誤處理完整

---

**祝您開發順利！**
